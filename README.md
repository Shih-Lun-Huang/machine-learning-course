# machine-learning-course
### 主題：銀行穩健度分析的報告
### 組別：第五組
### 指導老師：
- 巨資系 蔡芸琤老師
- 經濟系 林巧涵老師
### 組員：
- 巨資碩一 黃士倫
- 巨資碩一 莊雅婷
- 經碩一 洪碩恩
- 經碩一 韋佳妤

### 三分鐘前導片影片連結：https://www.youtube.com/watch?v=nVX_GhcaukM
### 正式版影片連結：https://www.youtube.com/watch?v=C7Oohn2ro5Q

<br />


# 動機

當重大事件發生導致金融市場環境變動時，客戶會對銀行體系的償債能力失去了信心，不得不依靠央行的貨幣政策，減緩市場之信用緊縮現象，以獲得充足流動性和資金。為了預防在金融危機中所出現之系統性風險再次發生，並使得銀行體系更能承受經濟市場環境的變化，我們必需了解銀行經營的穩健性與承受風險能力，避免對世界經濟與金融市場產生重大的影響。

<br />

# 目標
透過資料分析中三種不同演算法 ( 分群、分類、關聯分析 ) 的技術去分析銀行每年的指標，預期讓有著不同需求的客戶，能了解一家銀行的營運情形以及當重大事件發生時，該如何去判斷風險。

<br />

# 資料來源
資料來源為TEJ 本國各銀行，共36間的每月財務結構資料。期間為2008年1月至2020年12月。

<br />

# 研究方法

## **分群** – 銀行指標作為銀行分群依據
### 特徵挑選
考慮了金融健全參考指標的三個面向，分別是**獲利盈餘能力**、**流動性能力**、**資產品質能力**：<br />
- 資料集中，**淨利息收入比**及**資產報酬率**可以顯示出獲利盈餘能力<br />
- **存放比率**可以顯示出流動率的能力<br />
- **備抵呆帳覆蓋率**及**權益比率**可以顯示出銀行的資產品質<br />

### 降維
將個別不同的銀行，指標數值為該指標的平均，並透過PCA將特徵降成兩個維度嘗試看出更明顯得差異並視覺化。
### 分群結果
使用 K-means 分群，並以肘分析法決定分成**3**群：
#### 群0
- 銀行：三信銀行、凱基銀行、日盛銀行、板信銀、瑞興銀、臺企銀、臺銀、華泰銀行、高雄銀
- 指標較高：淨利息收入比
- 指標較低：權益比率、資產報酬率
- 指標較不明顯：存放比率、備抵呆帳覆蓋率

#### 群1
- 銀行：上海商銀、中信銀、京城銀、花旗台灣
- 指標較高：權益比率、資產報酬率
- 指標較低：淨利息收入比
- 指標較不明顯：存放比率、備抵呆帳覆蓋率（但有離群值）

#### 群2
- 銀行：一銀、元大銀、兆豐商銀、台中銀、台北富邦銀、台新銀、合庫、國泰世華、土銀、安泰銀、彰銀、新光銀行、永豐銀行、渣打銀行、玉山銀、王道銀行、聯邦銀、華銀、遠東銀、陽信銀
- 指標較高：無
- 指標較低：權益比率、資產報酬率、淨利息收入比
- 指標較不明顯：存放比率、備抵呆帳覆蓋率


### 小結
透過分群結果可以得知每家銀行的指標特性，客戶可以針對這些指標去選擇符合自己所需之銀行。也可以檢視自己手中的資產，是否處在一個相對安全的金融環境。

<br />

#

## **分類** – 銀行指標作為銀行分群依據

### 標記資料
利用 **資本適足率(BIS)** 作為風險分類標準。<br />
由於本國銀行資本適足率全都符合法規標準（皆高於8%），因此以當季資本適足率平均值作為界，當月資本適足率**高於平均值**的銀行標記為“**表現穩健**”，**低於平均值**的銀行標記為“**風險承受度稍弱**“。<br />


### 資料前處理與建模
1. 刪除六間銀行（2020年不營業的本國銀行五間、2020年開始營業的銀行一間）<br/>
2. 空值補0：銀行可能沒有承辦該項業務，因此沒有資料 <br/>
3. 從特徵相關係數矩陣挑出與資本適足率高度相關的特徵作為input <br/>
4. 將2008-2017年的資料用SVM建模，預測2018-2020年的分類是否正確

### 模型結果與小結

從相關係數矩陣中挑選權益比與存放比與資本適足率有高度相關，另外：<br/>
- **表現穩健銀行**的**權益比率**數值分布較**風險承受度較弱**的銀行‘**高**’<br/>
- **表現穩健銀行**的**存放比率**數值分布較**風險承受度較弱**的銀行‘**廣**’

以訓練好的模型預測2018-2020年的風險分類，在預測“ **風險承受度較弱** ”比” **表現穩健** “的分類準確（**0.84**>0.59）

<br />

#

## **關聯分析** – 銀行指標作為銀行分群依據

### 採用指標

- 權益比率 Equity：表示銀行長期生存能力，低於5%代表有問題，越高越好<br/>
- 資產報酬率 ROA：表示銀行獲利能力，越高越好<br/>
- 存放比 LtoD：表示銀行流動性風險，正常值應小於100%，數值越高風險越高<br/>
- 逾放比 NPL：表示銀行放款品質，3%以下表示授信品質好，數值越高放款品質越差<br/>
- 備抵呆帳覆蓋率 Coverage：表示銀行承受呆帳能力，越高越好<br/>
- 利息總收益比 NIM：表示銀行獲利能力，越高越好<br/>
- 風險性 Risk：表示銀行承受風險的能力，越高越好<br/>
  
### **PART-1** 共現性分析

1. 計算出各項指標之四分位數後，以四分位距作為分組依據<br/>
2. 建立銀行交互矩陣：橫軸欄位名稱以銀行代號命名，縱軸是四分位距，銀行的值落在該區間則標示1，其餘標示0，並繪製熱度圖
3. 透過次數累積直方圖找threshold（減少關聯圖中邊的樹目，這裡訂定threshold > **5**）
4. 繪製網絡圖找出有關連的銀行

### 小結

由以上網路圖顯示： 
- 822-010（中信銀-花旗台灣）
- 007-009（三信銀-彰銀）
- 013-081-012-812（國泰世華-匯豐台灣-台新銀）
- 016-050（高雄銀-臺企銀）<br />

彼此間在各項財務表現上有關聯性

### **PART-2** 購物籃分析

### 步驟

1. 將每間銀行各個指標用總平均排名，並將銀行在各指標的表現以四分位距分成Q1-Q4，並將七個指標的四組四分位距，總共分成28個組別，如下：<br /><br />
指標1_Q1 = [A銀行,B銀行,C銀行,D銀行] <br />
指標1_Q2 = [E銀行,F銀行,G銀行,H銀行] <br />
… <br />
指標7_Q4 = [A銀行,C銀行,F銀行,H銀行] <br />

2. 使用apriori演算法，找出銀行與銀行之間在各組的出現是否存在關連。

### Aprori 結果

| antecedents | consequents | antecedent | support |  consequent |support| support| confidence| lift| leverage| conviction| antecedent_len| consequent_len |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
0| (一銀)| (彰銀)| 0.285714| 0.357143| 0.285714| 1.0| 2.800000| 0.183673| inf| 1| 1
1| (新光銀行)| (一銀)| 0.214286| 0.285714| 0.214286| 1.0| 3.500000| 0.153061| inf| 1| 1
4| (花旗台灣)| (中信銀)| 0.357143| 0.428571| 0.357143| 1.0| 2.333333| 0.204082| inf| 1| 1
6| (兆豐商銀)| (匯豐台灣)| 0.285714| 0.428571| 0.285714| 1.0| 2.333333| 0.163265| inf| 1| 1
7| (兆豐商銀)| (台北富邦銀)| 0.285714| 0.357143| 0.285714| 1.0| 2.800000| 0.183673| inf| 1| 1
8| (兆豐商銀)| (台新銀)| 0.285714| 0.357143| 0.285714| 1.0| 2.800000| 0.183673| inf| 1| 1
9| (台北富邦銀)| (匯豐台灣)| 0.357143| 0.428571| 0.357143| 1.0| 2.333333| 0.204082| inf| 1| 1
11| (台新銀)| (匯豐台灣)| 0.357143| 0.428571| 0.357143| 1.0| 2.333333| 0.204082| inf| 1| 1
14| (國泰世華)| (匯豐台灣)| 0.357143| 0.428571| 0.357143| 1.0| 2.333333| 0.204082| inf| 1| 1
15| (台北富邦銀)| (台新銀)| 0.357143| 0.357143| 0.357143| 1.0| 2.800000| 0.229592| inf| 1| 1
16| (台新銀)| (台北富邦銀)| 0.357143| 0.357143| 0.357143| 1.0| 2.800000| 0.229592| inf| 1| 1
17| (遠東銀)| (安泰銀)| 0.214286| 0.357143| 0.214286| 1.0| 2.800000| 0.137755| inf| 1| 1
18| (新光銀行)| (彰銀)| 0.214286| 0.357143| 0.214286| 1.0| 2.800000| 0.137755| inf| 1| 1
19| (遠東銀)| (玉山銀)| 0.214286| 0.428571| 0.214286| 1.0| 2.333333| 0.122449| inf| 1| 1

<br />

### 小結

我們將關聯規則表的confidence值設定成1，以上表而言，可以舉例：當一銀在某項財務指標表現好的時候，彰銀的表現也會跟一銀一樣好，以此類推...

<br />

# 總結

綜合以上分類、分群、關聯分析的方法，我們可以歸納以下三個重點。

## 1. 穩健性
從分群的結果作探討可以發現，大致有三種取向，分別為以存放款業務為主的銀行、以貸放業務為主的銀行、以投資業務為主的銀行。大多數的銀行都是有比較穩定的獲利能力；但相對少數不穩定的銀行有可能會因為借款、放款的比率太高，進而無法回收借款造成呆帳，導致獲利能力的下降。

<br />

## 2. 風險性
我們從新冠肺炎的疫情發生做預測，在風險的評估上我們有幾點結論。第一，權益比率較高、存放比率較低，表示銀行所能承受的風險比較高。第二，分類在風險承受度較低的銀行當中，權益比率較低、存放比率較高，表示的流動性風險偏高。意即銀行在重大事件發生時可能所能承受的風險相對較低，需要衡量資金的運用狀況，移轉自有資金至風險較低的銀行。

<br />

## 3. 相關性
再對應回我們的分群與分類結果可以發現，是與穩健性程度大致是相同的。關聯程度高的銀行是其穩健程度是比較接近的，在指標上資產報酬率與權益比率相對偏高，且有較少呆帳金額較高的情況。表示客戶將錢放在這些銀行當中是相對安全、風險較低的; 另外還有一點需要考慮的是，在重大事件發生時利率調降，導致銀行所收取的利息降低，造成財務結構不穩定。所以在備抵呆帳率、放款比率比較偏高的銀行，是以借款取向的銀行。必須注意到這些相近的銀行可能會流動性的風險，借錢無法回收的可能。

END :>


